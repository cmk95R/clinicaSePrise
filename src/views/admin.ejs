<!DOCTYPE html>
<html lang="en">
<%- include('partials/head') %>

<body>
    <%- include('partials/header') %>
    <main>
        <div class="table--container">
          <h1 class="title-table">Administrador de Productos</h1>
          <br>
          <!--<a href="/products/add" class="btn btn-outline-primary mt-4 button-agregar"><i class='bx bxs-plus-circle bx-md' ></i></a>-->

          <div class="col-12 col-md-10 mx-auto mt-3">
          <div class="card">
            <div class="card-header">

              <div class="pagination">    
                <ul class="pagination"> 
        
                    <% if (pages && pages != 1) { %>
                        <% pages.forEach(page => { %>
                            <li class="page-number">
                                <a href="<%= page.url %>" class="page-link <%= page.number === currentPage && 'active' %>">
                                    <%= page.number %></a>
                            </li>
                        <% }) %>
        
                    <% } %>
        
                </ul>
            </div>

            </div>
          <table class="table">
            
            <thead class="thead-dark">

              <tr class="bg-primary text-white">
                <th scope="col">ID</th>
                <th scope="col">Nombre</th>
                <th scope="col">Marca</th>
                <th scope="col">Precio</th>
                <th scope="col">Categoria</th>
                <th scope="col">Descripcion</th>
                <th scope="col">Acciones</th>
              </tr>
            </thead>
            <tbody>
              <% products.forEach(product=> { %>
                <tr>
                  <td>
                    <%= product.id %>
                  </td>
                  <td>
                    <%= product.name %>
                  </td>
                  <td>
                    <%= product.brand.name%>
                  </td>
                  <td>
                    <%= product.price %>
                  </td>
                  <td>
                    <%= product.category.name %>
                  </td>
                  <td>
                    <%= product.description %>
                  </td>

                <td>
                  <a href="/products/edit/<%= product.id %>" class="btn btn-outline-primary btn-sm btn-action">EDITAR</a>
                  <button type="button" class="btn btn-outline-danger" data-bs-toggle="modal"
                    data-bs-target="#deleteModalProducts<%= product.id %>"> Eliminar</button>
                  <%- include('partials/modalDelete', { id: product.id, name: product.name }) %>
                </td>
              </tr>
              <% }); %>
          </tbody>
        
        </table>
      </div>
    </div>
      </div>
    </main>
    <%- include('partials/footer') %>
</body>
</html>
